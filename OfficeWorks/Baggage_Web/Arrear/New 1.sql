DELETE FROM PISARREARTRANSACTION

DELETE FROM PIS_ERROR_LOG

PRCARREAR_BF_MAINSAVE 

EXEC PRC_PIS_SALARY_PROCESS( '0001','002','ARREAR','SWT','202004','202007','002','01','01',NULL,NULL)

EXEC PRC_PISSALARYPROCESS_INSERT('0001','002','NEW SALARY', '0','202004','202007','PISPAYTRANSACTION_SWT','PISPAYTRANSACTION_SWT','002','01','01','','');

EXEC PRC_PISSALARY_WRKDAY_LV_UPDT('0001','002','NEW SALARY', '0','202004','202007','PISPAYTRANSACTION_SWT','PISPAYTRANSACTION_SWT','002','01','01','','');

EXEC PRC_PISSALARYPROCESS_UPDATE('0001','002','NEW SALARY', '1','202004','202007','PISPAYTRANSACTION_SWT','PISPAYTRANSACTION_PHASE_1','002','01','01','','');

EXEC PRC_PISSALARYPROCESS_UPDATE('0001','002','NEW SALARY', '2','202004','202007','PISPAYTRANSACTION_SWT','PISPAYTRANSACTION_PHASE_2','002','01','01','','');

EXEC PRC_PISSALARYPROCESS_UPDATE('0001','002','NEW SALARY', '3','202004','202007','PISPAYTRANSACTION_SWT','PISPAYTRANSACTION_PHASE_3','002','01','01','','');

EXEC PRC_PISSALARYPROCESS_UPDATE('0001','002','NEW SALARY', '4','202004','202007','PISPAYTRANSACTION_SWT','PISPAYTRANSACTION_PHASE_4','002','01','01','','');

EXEC PRC_PISSALARYPROCESS_UPDATE('0001','002','NEW SALARY', '5','202004','202007','PISPAYTRANSACTION_SWT','PISPAYTRANSACTION_PHASE_5','002','01','01','','');

EXEC PRC_PISSALARYPROCESS_DEDN('0001','002','NEW SALARY', '6','202004','202007','PISPAYTRANSACTION_SWT','PIS_SWT_PHASE_DEDN','002','01','01','','');

EXEC PRC_PISSALARYPROCESS_UPDATE('0001','002','NEW SALARY', '7','202004','202007','PISPAYTRANSACTION_SWT','PISPAYTRANSACTION_PHASE_7','002','01','01','','');

EXEC PRC_PISSALARY_OTHCOMP_UPDATE('0001','002','NEW SALARY', '99','202004','202007','PISPAYTRANSACTION_SWT','PISPAYTRANSACTION_SWT','002','01','01','','');

--EXEC PRC_PISSALARYPROCESS_TRANSFER('0001','002','NEW SALARY', '1001','202004','202007','PISPAYTRANSACTION','PISPAYTRANSACTION_SWT','002','01','01','','');

EXEC PRC_PISSALARYPROCESS_TRANSFER('0001','002','NEW SALARY', '1002','202004','202007','PISARREARTRANSACTION','PISPAYTRANSACTION_SWT','002','01','01','','');

SELECT DISTINCT TRANSACTIONTYPE FROM PISPAYTRANSACTION WHERE TRANSACTIONTYPE<>'SALARY'

DELETE PISPAYTRANSACTION WHERE TRANSACTIONTYPE<>'SALARY'




select * from pisarreartransaction
where tokenno='0004'

delete from pisarreartransaction

6910
8000

select * from pispaytransaction
where tokenno='0004'

select * from pispaytransaction
where tokenno='0004'
and yearcode='2020-2021'

select * from PISARREARTRANSACTION
where tokenno='0004'
order by yearmonth

select * from piscomponentmaster where componentcode IN ('PF_E','PF_GROSS') AND DIVISIONCODE='002'


select * from piscomponentassignment
where tokenno='0004'
and yearcode='2020-2021' 
and TRANSACTIONTYPE='ASSIGNMENT'

6910
8000

apr -  1090
may -  1090
jun -  1090

3270+8000

select * from pis_error_log

1090


 select * from PISARREARTRANSACTION WHERE COMPANYCODE = '0001' 
 AND DIVISIONCODE = '002' 
 AND YEARMONTH = '202007' 
 AND TRANSACTIONTYPE =  'NEW SALARY' 
 AND UNITCODE = '002' 
 AND CATEGORYCODE = '01' 
 AND GRADECODE = '01' 


begin PRC_PISSALARYPROCESS_ARREAR ( 
      '0001',  
      '002',
      'ARREAR', 
      0, 
      '202004',
      '202006',
      '202007', 
      'PISARREARTRANSACTION',
      'PISARREARTRANSACTION',
      '002',
      '01',
      '01',
      '',
      '000110'
);
end;


delete from pisarreartransaction

DELETE from pispaytransaction
where TRANSACTIONTYPE='ARREAR'

DELETE from pispaytransaction
where TRANSACTIONTYPE='NEW SALARY'

select DISTINCT TRANSACTIONTYPE from pispaytransaction

where TRANSACTIONTYPE='ARREAR'

SELECT



select distinct COMPONENTCODE COL from piscomponentmaster a
where COMPANYCODE = '0001' 
and DIVISIONCODE = '002' 
and INCLUDEARREAR = 'Y' 

 
and yearmonth = (select max(yearmonth) from PISCOMPONENTMASTER b where 
a.COMPANYCODE = b.companycode
and a.DIVISIONCODE = b.DIVISIONCODE
and a.COMPONENTCODE = b.COMPONENTCODE 
--and COMPONENTTYPE = 'DEDUCTION' 
AND INCLUDEARREAR = 'Y'


WAGESPROCESSTYPE_PHASE


PRC_PISSALARYPROCESS_INSERT
PRC_PISSALARY_WRKDAY_LV_UPDT
PRC_PISSALARYPROCESS_UPDATE
PRC_PISSALARYPROCESS_UPDATE
PRC_PISSALARYPROCESS_UPDATE
PRC_PISSALARYPROCESS_UPDATE
PRC_PISSALARYPROCESS_UPDATE
PRC_PISSALARYPROCESS_DEDN
PRC_PISSALARYPROCESS_UPDATE
PRC_PISSALARY_OTHCOMP_UPDATE
PRC_PISSALARYPROCESS_TRANSFER



select * FROM PIS_ERROR_LOG

where PROC_NAME like 'PRC_PISSALARY_NONARREAR_UPDT'

SARR_PFARRE, SARR_NPFARRE


ALTER TABLE PISOTHERTRANSACTION ADD SARR_PFARRE NUMBER(15,2) DEFAULT 0

ALTER TABLE PISOTHERTRANSACTION ADD SARR_NPFARRE NUMBER(15,2) DEFAULT 0


ALTER TABLE PISARREARTRANSACTION ADD SARR_PFARRE NUMBER(15,2) DEFAULT 0

ALTER TABLE PISARREARTRANSACTION ADD SARR_NPFARRE NUMBER(15,2) DEFAULT 0


ALTER TABLE PISPAYTRANSACTION ADD SARR_PFARRE NUMBER(15,2) DEFAULT 0

ALTER TABLE PISPAYTRANSACTION ADD SARR_NPFARRE NUMBER(15,2) DEFAULT 0


ALTER TABLE PISPAYTRANSACTION_SWT ADD SARR_PFARRE NUMBER(15,2) DEFAULT 0

ALTER TABLE PISPAYTRANSACTION_SWT ADD SARR_NPFARRE NUMBER(15,2) DEFAULT 0



ALTER TABLE GTT_PISARREARTRANSACTION ADD SARR_PFARRE NUMBER(15,2) DEFAULT 0

ALTER TABLE GTT_PISARREARTRANSACTION ADD SARR_NPFARRE NUMBER(15,2) DEFAULT 0




GTT_PISARREARTRANSACTION
